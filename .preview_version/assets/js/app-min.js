(()=>{"use strict";document.querySelector("#nav-buttons");let e=document.querySelector("#btnNuevo"),t=document.querySelector("#btnPedir"),r=document.querySelector("#btnDetener"),a=document.querySelectorAll("span"),l=document.querySelectorAll(".divCartas"),s=[],n=[],i=["C","D","H","S"],o=["A","J","Q","K"],d=(e=2)=>{s=c();for(let t=0;t<e;t++)n.push(0)},c=()=>{for(let e=2;e<=10;e++)for(let t of i)s.push(e+t);for(let r of i)for(let a of o)s.push(a+r);return _.shuffle(s)},u=()=>0===s.length?Swal.fire({title:"Oh, oh!",text:"No hay m\xe1s cartas en la baraja",icon:"warning"}):s.pop(),h=e=>isNaN(e.substring(0,e.length-1))?"A"===e.substring(0,e.length-1)?11:10:1*e.substring(0,e.length-1),g=(e,t)=>(n[t]+=h(e),a[t].innerText=n[t],n[t]),$=(e,t)=>{let r=document.createElement("img");r.src=`./assets/${e}.png`,r.classList.add("w-36","relative","-ml-24","mr-5","left-24","duration-150","hover:-translate-y-4","hover:cursor-grab"),l[t].append(r)},f=e=>{let[a]=n;0===e?a>21?(Swal.fire({title:"Perdiste :(",text:"Lo siento, mejor suerte para la pr\xf3xima",icon:"error"}),t.disabled=!0,r.disabled=!0,p(a)):21===a&&(Swal.fire({title:"Ganaste!",text:"Felicidades, me alegro de que en esta si hayas tenido suerte! :D",icon:"success"}),t.disabled=!0,r.disabled=!0,p(a)):e===n.length-1&&n[n.length-1]===a?Swal.fire({title:"Empate",text:"Nadie gana, ambos tienen los mismos puntos",icon:"warning"}):n[n.length-1]>21?Swal.fire({title:"Ganaste :D",text:"La computadora se ha pasado",icon:"success"}):(21===n[n.length-1]||n[n.length-1]>a)&&Swal.fire({title:"Gan\xf3 la computadora :(",text:"Lo siento, mejor suerte para la pr\xf3xima",icon:"error"})},p=e=>{do{let t=u();if(g(t,n.length-1),$(t,n.length-1),e>21)break}while(n[n.length-1]<e&&e<=21);f(n.length-1)};t.addEventListener("click",()=>{let e=u();g(e,0),$(e,0),f(0)}),r.addEventListener("click",()=>{t.disabled=!0,r.disabled=!0,p(n[0])}),e.addEventListener("click",()=>history.go(0),d())})();